---
title: "8 Tips for Upgrading to R"
author: "Alex Gold"
date: "1/10/2019"
output: 
  revealjs::revealjs_presentation:
    theme: league
---

```{r setup, include=FALSE}
library(tidyverse)
library(gganimate)
source(here::here("helper_funcs.R"))
knitr::opts_chunk$set(echo = FALSE)
```

## 8 Tips for Upgrading to R

{{sprintf("%s. %s", 1:8, tips) %>% paste(collapse = "\n")}}


## {{tips["skills"]}}
```{r}
levs <- c("Team Leader's Persistence", 
          "Team's excitement about using R", 
          "Actual Level of R Knowledge")

tibble(x = 1:3, 
       pe = c(0.25, 0.75, 0.1),
       ymin = c(0.05, 0.6, -0.3), 
       ymax = c(0.4, 1, 0.3),
       labs = factor(levs, 
                     levels = levs %>% rev(),
                     labels = stringr::str_wrap(levs, 15),
                     ordered = TRUE)) %>%
  ggplot(aes(x = labs, y = pe)) +
  geom_point(size = 4) +
  geom_errorbar(aes(ymin = ymin, ymax = ymax)) +
  theme_rs() +
  theme(axis.text.y = element_text(), 
        axis.title.y = element_blank(),
        axis.text.x = element_blank(), 
        axis.ticks.x = element_blank()) +
  geom_hline(yintercept = 0, linetype = 2, color = "lightgrey") +
  ylab("Estimated Effect on Initial Productivity in R") +
  coord_flip()
```

## {{tips["fail"]}}

Consider changing to be moving bubble plot over time w/ bubbles being team 
members w/ individual morale and productivities
```{r}
labs1 <- c("First Project Launched in R", 
           "Project Run in R End-to-End", 
           "Minor Setback due to Miscommunication/Coding Error", 
           "Major Overreaction by Team Lead*", 
           "Weeks Spent Smoothing Over", 
           "", 
           "", 
           "") %>%
  stringr::str_wrap(20)
facets1 <- c("Actual Productivity", 
             "Team Lead's Perception of Productivity", 
             "Team Morale") %>%
  stringr::str_wrap(20)

pd <- tibble(labs = rep(labs1, length(facets1)), 
             facets = rep(facets1, each = length(labs1)), 
             x = rep(seq(length(labs1)), length(facets1)), 
             y = c(0.25, 0.75, 0.65, 0.10, 0.20, 0.25, 0.40, 0.60, 
                   0.65, 0.75, -.25, 0.50, 0.10, 0.15, 0.20, 0.30, 
                   0.75, 0.95, 0.50, -.25, 0.10, 0.15, 0.20, 0.40)) 
pd2 <- pd %>%
  rename(facets2 = facets)

pd %>%
ggplot(aes(x = x)) +
  geom_line(data = pd2, aes(y = y, group = facets2), color = "lightgrey") +
  geom_line(aes(y = y, group = facets), color = "grey2", size = 1.1) +
  theme_rs() +
  facet_grid("facets~.") +
  geom_label(aes(y=y, label = labs)) +
  ggtitle("", subtitle = "*Everyone needs to make a merge request to git with their progress every day.")
```


## {{tips["csvs"]}}
```{r}
make_bar_dat(c(0, 0.01, 0.8), 
             c("Died from building an ETL pipeline out of CSV files", 
               "Are excited to give you money for infrastructure", 
               "Will notice if errors diminsh and velocity increases")) %>%
  bar_plot("Proportion of People")
```

## {{tips["package"]}}

```{r}
labs <- c("")
```



Things to include:

* wrappers around functions with diagnostics
* commonly used data
* standard plots
* functions to write out spreadsheets
* special analytical functions
* Templates for use patterns (preprocessing, analysis)
* New project setup packages

Variable importance plot for Effect on use of package

Writing a vignette
Making sure people know why you care
Getting everyone on the team to contribute
Clever use of capital R in package name

## {{tips["git"]}}
Maybe relative performance of git and markdown, git is so useful but will make you cry, markdown is just good and gets better

```{r}
tibble(labs = rep(c("This is so useful!", 
                    "Oh no, I broke everything :O"), 
                  each = 10), 
       x = 1:20, 
       y = c(7, 8, 8, 7, )) +
  ggtitle("Feelings While Adopting git")
```



How often talk about how everything is broken and unfixable forever

How useful git is
How much longer it takes to learn than you want
Useful git help that starts with "well, if you just think of git as a..."

## {{tips["markdown"]}}



## {{tips["invisible"]}}

## {{tips["tf"]}}


